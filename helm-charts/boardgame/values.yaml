# Default values for boardgame chart
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

# ============================================================
# IMAGE CONFIGURATION
# ============================================================
image:
  # Docker image repository
  repository: harbor.server.thweb.click/boardgame-devsecops/app
  
  # Image pull policy (Always, IfNotPresent, Never)
  pullPolicy: Always
  
  # Overrides the image tag whose default is the chart appVersion
  tag: "latest"

# Image pull secrets for private registries
imagePullSecrets:
  - name: harbor-registry

# ============================================================
# DEPLOYMENT CONFIGURATION
# ============================================================
# Number of pod replicas
replicaCount: 3

# Resource limits and requests
resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 100m
    memory: 256Mi

# Liveness probe configuration
livenessProbe:
  httpGet:
    path: /
    port: 8080
  initialDelaySeconds: 45
  periodSeconds: 10

# Readiness probe configuration
readinessProbe:
  httpGet:
    path: /
    port: 8080
  initialDelaySeconds: 30
  periodSeconds: 5

# Environment variables for the application
env:
  springDatasourceUrl: "jdbc:h2:mem:testdb"
  springH2ConsoleEnabled: "true"

# ============================================================
# SERVICE CONFIGURATION
# ============================================================
service:
  # Service type (ClusterIP, NodePort, LoadBalancer)
  type: ClusterIP
  
  # Service port (external port)
  port: 80
  
  # Target port (container port)
  targetPort: 8080

# ============================================================
# INGRESS CONFIGURATION
# ============================================================
ingress:
  # Enable or disable ingress
  enabled: true
  
  # Ingress class name
  className: nginx
  
  # Hostname for the ingress
  host: boardgame.app.thweb.click
  
  # TLS configuration
  tls:
    enabled: true
    secretName: boardgame-tls
  
  # Ingress annotations
  annotations:
    cert-manager.io/cluster-issuer: "letsencrypt-prod"
    nginx.ingress.kubernetes.io/ssl-redirect: "true"

# ============================================================
# NAMESPACE
# ============================================================
# Namespace will be taken from helm install --namespace flag
# If not specified, defaults to "default"